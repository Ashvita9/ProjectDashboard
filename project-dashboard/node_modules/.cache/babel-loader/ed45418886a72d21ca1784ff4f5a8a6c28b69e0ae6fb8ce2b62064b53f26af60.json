{"ast":null,"code":"import { required } from 'vuelidate/lib/validators';\nimport eventBus from '../../bus/eventBus';\nexport default {\n  name: 'ProjectFormModal',\n  props: {\n    modalId: {\n      type: String,\n      default: 'project-modal'\n    },\n    project: {\n      type: Object,\n      default: null\n    }\n  },\n  data() {\n    return {\n      form: {\n        name: '',\n        description: '',\n        status: 'Planning',\n        startDate: '',\n        endDate: ''\n      },\n      statusOptions: ['Planning', 'In Progress', 'Completed', 'On Hold']\n    };\n  },\n  validations: {\n    form: {\n      name: {\n        required\n      },\n      description: {\n        required\n      }\n    }\n  },\n  computed: {\n    isEdit() {\n      return !!this.project;\n    }\n  },\n  watch: {\n    project: {\n      immediate: true,\n      handler(val) {\n        if (val) {\n          this.form = {\n            ...val\n          };\n        }\n      }\n    }\n  },\n  methods: {\n    validateState(name) {\n      const {\n        $dirty,\n        $error\n      } = this.$v.form[name];\n      return $dirty ? !$error : null;\n    },\n    handleSubmit(bvModalEvent) {\n      bvModalEvent.preventDefault();\n      this.$v.$touch();\n      if (this.$v.$invalid) {\n        return;\n      }\n      const projectData = {\n        ...this.form,\n        id: this.isEdit ? this.form.id : Date.now(),\n        tasks: this.isEdit ? this.form.tasks : [],\n        createdAt: this.isEdit ? this.form.createdAt : new Date().toISOString()\n      };\n      if (this.isEdit) {\n        this.$store.dispatch('projects/updateProject', projectData);\n        eventBus.$emit('show-notification', {\n          message: 'Project updated successfully',\n          variant: 'success'\n        });\n      } else {\n        this.$store.dispatch('projects/addProject', projectData);\n        eventBus.$emit('show-notification', {\n          message: 'Project created successfully',\n          variant: 'success'\n        });\n      }\n      this.$emit('project-saved', projectData);\n      this.$nextTick(() => {\n        this.$bvModal.hide(this.modalId);\n      });\n    },\n    resetForm() {\n      this.form = {\n        name: '',\n        description: '',\n        status: 'Planning',\n        startDate: '',\n        endDate: ''\n      };\n      this.$v.$reset();\n      this.$emit('modal-closed');\n    }\n  }\n};","map":{"version":3,"names":["required","eventBus","name","props","modalId","type","String","default","project","Object","data","form","description","status","startDate","endDate","statusOptions","validations","computed","isEdit","watch","immediate","handler","val","methods","validateState","$dirty","$error","$v","handleSubmit","bvModalEvent","preventDefault","$touch","$invalid","projectData","id","Date","now","tasks","createdAt","toISOString","$store","dispatch","$emit","message","variant","$nextTick","$bvModal","hide","resetForm","$reset"],"sources":["src/components/Project/ProjectFormModal.vue"],"sourcesContent":["<template>\r\n  <b-modal\r\n    :id=\"modalId\"\r\n    :title=\"isEdit ? 'Edit Project' : 'Create New Project'\"\r\n    @hidden=\"resetForm\"\r\n    @ok=\"handleSubmit\"\r\n  >\r\n    <b-form>\r\n      <b-form-group label=\"Project Name\" label-for=\"project-name\">\r\n        <b-form-input\r\n          id=\"project-name\"\r\n          v-model=\"form.name\"\r\n          placeholder=\"Enter project name\"\r\n          :state=\"validateState('name')\"\r\n          @blur=\"$v.form.name.$touch()\"\r\n        ></b-form-input>\r\n        <b-form-invalid-feedback v-if=\"!$v.form.name.required\">\r\n          Project name is required\r\n        </b-form-invalid-feedback>\r\n      </b-form-group>\r\n\r\n      <b-form-group label=\"Description\" label-for=\"project-description\">\r\n        <b-form-textarea\r\n          id=\"project-description\"\r\n          v-model=\"form.description\"\r\n          placeholder=\"Enter project description\"\r\n          rows=\"3\"\r\n          :state=\"validateState('description')\"\r\n          @blur=\"$v.form.description.$touch()\"\r\n        ></b-form-textarea>\r\n        <b-form-invalid-feedback v-if=\"!$v.form.description.required\">\r\n          Description is required\r\n        </b-form-invalid-feedback>\r\n      </b-form-group>\r\n\r\n      <b-form-group label=\"Status\" label-for=\"project-status\">\r\n        <b-form-select\r\n          id=\"project-status\"\r\n          v-model=\"form.status\"\r\n          :options=\"statusOptions\"\r\n        ></b-form-select>\r\n      </b-form-group>\r\n\r\n      <b-form-group label=\"Start Date\" label-for=\"project-start-date\">\r\n        <b-form-input\r\n          id=\"project-start-date\"\r\n          v-model=\"form.startDate\"\r\n          type=\"date\"\r\n        ></b-form-input>\r\n      </b-form-group>\r\n\r\n      <b-form-group label=\"End Date\" label-for=\"project-end-date\">\r\n        <b-form-input\r\n          id=\"project-end-date\"\r\n          v-model=\"form.endDate\"\r\n          type=\"date\"\r\n        ></b-form-input>\r\n      </b-form-group>\r\n    </b-form>\r\n  </b-modal>\r\n</template>\r\n\r\n<script>\r\nimport { required } from 'vuelidate/lib/validators'\r\nimport eventBus from '../../bus/eventBus'\r\n\r\nexport default {\r\n  name: 'ProjectFormModal',\r\n  props: {\r\n    modalId: {\r\n      type: String,\r\n      default: 'project-modal'\r\n    },\r\n    project: {\r\n      type: Object,\r\n      default: null\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      form: {\r\n        name: '',\r\n        description: '',\r\n        status: 'Planning',\r\n        startDate: '',\r\n        endDate: ''\r\n      },\r\n      statusOptions: [\r\n        'Planning',\r\n        'In Progress',\r\n        'Completed',\r\n        'On Hold'\r\n      ]\r\n    }\r\n  },\r\n  validations: {\r\n    form: {\r\n      name: { required },\r\n      description: { required }\r\n    }\r\n  },\r\n  computed: {\r\n    isEdit() {\r\n      return !!this.project\r\n    }\r\n  },\r\n  watch: {\r\n    project: {\r\n      immediate: true,\r\n      handler(val) {\r\n        if (val) {\r\n          this.form = { ...val }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    validateState(name) {\r\n      const { $dirty, $error } = this.$v.form[name]\r\n      return $dirty ? !$error : null\r\n    },\r\n    handleSubmit(bvModalEvent) {\r\n      bvModalEvent.preventDefault()\r\n      this.$v.$touch()\r\n      \r\n      if (this.$v.$invalid) {\r\n        return\r\n      }\r\n\r\n      const projectData = {\r\n        ...this.form,\r\n        id: this.isEdit ? this.form.id : Date.now(),\r\n        tasks: this.isEdit ? this.form.tasks : [],\r\n        createdAt: this.isEdit ? this.form.createdAt : new Date().toISOString()\r\n      }\r\n\r\n      if (this.isEdit) {\r\n        this.$store.dispatch('projects/updateProject', projectData)\r\n        eventBus.$emit('show-notification', {\r\n          message: 'Project updated successfully',\r\n          variant: 'success'\r\n        })\r\n      } else {\r\n        this.$store.dispatch('projects/addProject', projectData)\r\n        eventBus.$emit('show-notification', {\r\n          message: 'Project created successfully',\r\n          variant: 'success'\r\n        })\r\n      }\r\n\r\n      this.$emit('project-saved', projectData)\r\n      this.$nextTick(() => {\r\n        this.$bvModal.hide(this.modalId)\r\n      })\r\n    },\r\n    resetForm() {\r\n      this.form = {\r\n        name: '',\r\n        description: '',\r\n        status: 'Planning',\r\n        startDate: '',\r\n        endDate: ''\r\n      }\r\n      this.$v.$reset()\r\n      this.$emit('modal-closed')\r\n    }\r\n  }\r\n}\r\n</script>\r\n"],"mappings":"AA+DA,SAAAA,QAAA;AACA,OAAAC,QAAA;AAEA;EACAC,IAAA;EACAC,KAAA;IACAC,OAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,OAAA;IACA;IACAC,OAAA;MACAH,IAAA,EAAAI,MAAA;MACAF,OAAA;IACA;EACA;EACAG,KAAA;IACA;MACAC,IAAA;QACAT,IAAA;QACAU,WAAA;QACAC,MAAA;QACAC,SAAA;QACAC,OAAA;MACA;MACAC,aAAA,GACA,YACA,eACA,aACA;IAEA;EACA;EACAC,WAAA;IACAN,IAAA;MACAT,IAAA;QAAAF;MAAA;MACAY,WAAA;QAAAZ;MAAA;IACA;EACA;EACAkB,QAAA;IACAC,OAAA;MACA,cAAAX,OAAA;IACA;EACA;EACAY,KAAA;IACAZ,OAAA;MACAa,SAAA;MACAC,QAAAC,GAAA;QACA,IAAAA,GAAA;UACA,KAAAZ,IAAA;YAAA,GAAAY;UAAA;QACA;MACA;IACA;EACA;EACAC,OAAA;IACAC,cAAAvB,IAAA;MACA;QAAAwB,MAAA;QAAAC;MAAA,SAAAC,EAAA,CAAAjB,IAAA,CAAAT,IAAA;MACA,OAAAwB,MAAA,IAAAC,MAAA;IACA;IACAE,aAAAC,YAAA;MACAA,YAAA,CAAAC,cAAA;MACA,KAAAH,EAAA,CAAAI,MAAA;MAEA,SAAAJ,EAAA,CAAAK,QAAA;QACA;MACA;MAEA,MAAAC,WAAA;QACA,QAAAvB,IAAA;QACAwB,EAAA,OAAAhB,MAAA,QAAAR,IAAA,CAAAwB,EAAA,GAAAC,IAAA,CAAAC,GAAA;QACAC,KAAA,OAAAnB,MAAA,QAAAR,IAAA,CAAA2B,KAAA;QACAC,SAAA,OAAApB,MAAA,QAAAR,IAAA,CAAA4B,SAAA,OAAAH,IAAA,GAAAI,WAAA;MACA;MAEA,SAAArB,MAAA;QACA,KAAAsB,MAAA,CAAAC,QAAA,2BAAAR,WAAA;QACAjC,QAAA,CAAA0C,KAAA;UACAC,OAAA;UACAC,OAAA;QACA;MACA;QACA,KAAAJ,MAAA,CAAAC,QAAA,wBAAAR,WAAA;QACAjC,QAAA,CAAA0C,KAAA;UACAC,OAAA;UACAC,OAAA;QACA;MACA;MAEA,KAAAF,KAAA,kBAAAT,WAAA;MACA,KAAAY,SAAA;QACA,KAAAC,QAAA,CAAAC,IAAA,MAAA5C,OAAA;MACA;IACA;IACA6C,UAAA;MACA,KAAAtC,IAAA;QACAT,IAAA;QACAU,WAAA;QACAC,MAAA;QACAC,SAAA;QACAC,OAAA;MACA;MACA,KAAAa,EAAA,CAAAsB,MAAA;MACA,KAAAP,KAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}